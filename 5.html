<!DOCTYPE html>
<html>
<head>
	<title>Soal 5</title>
	<meta charset="utf-8">
</head>
<body>

	<p>Masukan string = <input type="text" id="string"></p>
	<p>Masukan kata yang ingin dicari = <input type="text" id="cari"></p>

	<br>
	<button onclick="cari()">Cari</button>

	<p id="hasil"></p>

	<script type="text/javascript">
		
		function proses(string, kata) {

			var str = string;

			var cari = kata;

			if(cari.length < str.length) {

				var pan = str.length - cari.length;

				var temu = 0;
				for(var i = 0; i < pan+1; i++){
					
					var xx = str.substring(i, cari.length+i);			    	

					// jika ketemu variabel temu +1
					if( xx.search(cari) >= 0 ){
						temu += 1
					}		    	
			    
			    }

			    // balik string
			    var balik = str.split('').reverse().join('');

			    for(var i = 0; i < pan+1; i++){
					
					var yy = balik.substring(i, cari.length+i);			    	

					// jika ketemu variabel temu +1
					if( yy.search(cari) >= 0 ){
						temu += 1
					}		    	
			    
			    }

			    return temu;
				
			}
			else {
				return -1;
			}

		}

		function cari() {

			var x = document.getElementById('string');
			var y = document.getElementById('cari');

			var string = x.value;
			var cari = y.value;

			var hasil = proses(string, cari);

			var pesan = "";

			// pesan jika kata pencari lebih panjang dari string
			if (hasil < 0) {
				pesan = "panjang kata pencarian tidak boleh lebih dari panjang string";
			}
			// pesan jika tidak ditemukan kata
			else if (hasil == 0) {
				pesan = "tidak ditemukan string";
			}
			// pesan jumlah kata yang ditemukan
			else {
				pesan = "ditemukan " + hasil + " kali";
			}

			document.getElementById('hasil').innerHTML = pesan;

		}

	</script>

</body>
</html>